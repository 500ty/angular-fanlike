!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{PXP5:function(e,a,c){"use strict";c.r(a),c.d(a,"TaskModule",function(){return lt});var i,o=c("ofXK"),r=c("tyNb"),s=c("mrSG"),l=c("VRyK"),b=c("LRne"),m=c("90At"),u=c("M9IT"),p=c("Dh3D"),g=c("JX91"),f=c("eIep"),d=c("lJxs"),h=c("JIr8"),v=c("fXoL"),O=c("qc5V"),_=c("2Vo4"),C=c("vkgz"),w=((i=function(){function e(n){t(this,e),this.api=n,this.dataSource=new _.a(null),this.data$=this.dataSource.asObservable(),this.paginationSource=new _.a(null),this.pagination$=this.paginationSource.asObservable()}return n(e,[{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"created_at ",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"desc",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return console.log(t,e,n),this.api.get("/articles?page=".concat(n+1,"&per_page=").concat(a,"&filters[").concat(t,"][sorting]=").concat(e))}},{key:"fetch",value:function(t){var e,n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"created_at ",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"desc",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30;switch(t){case"share_link":e="/articles?page=".concat(i+1,"&per_page=").concat(o,"&filters[").concat(a,"][sorting]=").concat(c);break;case"join_group":e="/fbgroups?page=".concat(i+1,"&per_page=").concat(o,"&filters[").concat(a,"][sorting]=").concat(c);break;case"like_page":e="/fbpages?page=".concat(i+1,"&per_page=").concat(o,"&filters[").concat(a,"][sorting]=").concat(c);break;case"interaction_post":e="/fbposts?page=".concat(i+1,"&per_page=").concat(o,"&filters[").concat(a,"][sorting]=").concat(c)}return this.api.get(e).pipe(Object(C.a)(function(t){n.dataSource.next(t.data);var e=Object.assign(Object.assign({},t.meta.pagination),{page:t.meta.pagination.current_page,pageSize:t.meta.pagination.per_page});n.paginationSource.next(e)}))}},{key:"shareArticle",value:function(t){var e=this;return this.api.get("/articles?page=".concat(t)).pipe(Object(C.a)(function(t){e.dataSource.next(t.data),e.paginationSource.next(t.meta.pagination)}))}},{key:"joinGroup",value:function(t){var e=this;return this.api.get("/fbgroups?page=".concat(t)).pipe(Object(C.a)(function(t){e.dataSource.next(t.data),e.paginationSource.next(t.meta.pagination)}))}}]),e}()).\u0275fac=function(t){return new(t||i)(v.fc(O.a))},i.\u0275prov=v.Ob({token:i,factory:i.\u0275fac,providedIn:"root"}),i),P=c("tmEo"),y=c("tH/4"),k=c("+0xr"),M=c("Xa2L"),L=c("iQdX"),S=c("sYmb"),x=function(t){return{active:t}};function X(t,e){if(1&t){var n=v.Zb();v.Yb(0,"div",9),v.Yb(1,"a",10),v.ic("click",function(){v.Cc(n);var t=e.$implicit;return v.mc().onSelectType(t.name)}),v.Yb(2,"span",11),v.Nc(3),v.nc(4,"translate"),v.Xb(),v.Xb(),v.Xb()}if(2&t){var a=e.$implicit,c=v.mc();v.Fb(1),v.sc("ngClass",v.wc(4,x,a.name===c.type)),v.Fb(2),v.Pc(" ",v.oc(4,2,"RESPONSE."+a.name)," ")}}function F(t,e){1&t&&v.Tb(0,"mat-spinner")}function Y(t,e){if(1&t&&(v.Yb(0,"div",34),v.Lc(1,F,1,0,"mat-spinner",35),v.Xb()),2&t){var n=v.mc(2);v.Fb(1),v.sc("ngIf",n.isLoadingResults)}}function T(t,e){1&t&&(v.Yb(0,"mat-header-cell"),v.Nc(1),v.nc(2,"translate"),v.Xb()),2&t&&(v.Fb(1),v.Pc(" ",v.oc(2,1,"TABLE.title")," "))}function N(t,e){if(1&t&&(v.Yb(0,"mat-cell"),v.Yb(1,"span",36),v.Nc(2),v.nc(3,"translate"),v.Xb(),v.Yb(4,"a",37),v.Nc(5),v.Xb(),v.Xb()),2&t){var n=e.$implicit;v.Fb(2),v.Oc(v.oc(3,3,"TABLE.title")),v.Fb(2),v.tc("href",n.link,v.Ec),v.Fb(1),v.Pc(" ",n.name," ")}}function R(t,e){1&t&&(v.Yb(0,"mat-header-cell"),v.Nc(1),v.nc(2,"translate"),v.Xb()),2&t&&(v.Fb(1),v.Pc(" ",v.oc(2,1,"TABLE.receive")," "))}function j(t,e){if(1&t&&(v.Yb(0,"mat-cell"),v.Yb(1,"span",36),v.Nc(2),v.nc(3,"translate"),v.Xb(),v.Yb(4,"span"),v.Nc(5),v.Tb(6,"img",38),v.Xb(),v.Xb()),2&t){var n=e.$implicit;v.Fb(2),v.Oc(v.oc(3,2,"TABLE.receive")),v.Fb(3),v.Pc(" ",n.receive," ")}}function E(t,e){1&t&&(v.Yb(0,"mat-header-cell"),v.Nc(1),v.nc(2,"translate"),v.Xb()),2&t&&(v.Fb(1),v.Oc(v.oc(2,1,"TABLE.remaining")))}function A(t,e){if(1&t&&(v.Yb(0,"mat-cell"),v.Yb(1,"span",36),v.Nc(2),v.nc(3,"translate"),v.Xb(),v.Nc(4),v.Xb()),2&t){var n=e.$implicit;v.Fb(2),v.Oc(v.oc(3,3,"TABLE.remaining")),v.Fb(2),v.Qc(" ",n.remain,"/",n.budget||0," ")}}function I(t,e){1&t&&(v.Yb(0,"mat-header-cell"),v.Nc(1),v.nc(2,"translate"),v.Xb()),2&t&&(v.Fb(1),v.Pc(" ",v.oc(2,1,"TABLE.status")," "))}function D(t,e){1&t&&(v.Wb(0),v.Nc(1),v.nc(2,"translate"),v.Vb()),2&t&&(v.Fb(1),v.Oc(v.oc(2,1,"STATUS.open")))}function $(t,e){1&t&&(v.Wb(0),v.Nc(1),v.nc(2,"translate"),v.Vb()),2&t&&(v.Fb(1),v.Oc(v.oc(2,1,"STATUS.done")))}function B(t,e){1&t&&(v.Wb(0),v.Nc(1),v.nc(2,"translate"),v.Vb()),2&t&&(v.Fb(1),v.Oc(v.oc(2,1,"STATUS.closed")))}function z(t,e){if(1&t&&(v.Yb(0,"mat-cell"),v.Yb(1,"span",36),v.Nc(2),v.nc(3,"translate"),v.Xb(),v.Yb(4,"span",39),v.Lc(5,D,3,3,"ng-container",35),v.Lc(6,$,3,3,"ng-container",35),v.Lc(7,B,3,3,"ng-container",35),v.Xb(),v.Xb()),2&t){var n=e.$implicit;v.Fb(2),v.Oc(v.oc(3,10,"TABLE.status")),v.Fb(2),v.Kb("label-light-primary",0===n.status)("label-light-success",1===n.status)("label-mute",2===n.status),v.Fb(1),v.sc("ngIf",0==n.status),v.Fb(1),v.sc("ngIf",1==n.status),v.Fb(1),v.sc("ngIf",2==n.status)}}function V(t,e){1&t&&(v.Yb(0,"mat-header-cell",40),v.Nc(1),v.nc(2,"translate"),v.Xb()),2&t&&(v.Fb(1),v.Oc(v.oc(2,1,"TABLE.date")))}function W(t,e){if(1&t&&(v.Yb(0,"mat-cell"),v.Yb(1,"span",36),v.Nc(2),v.nc(3,"translate"),v.Xb(),v.Nc(4),v.nc(5,"date"),v.Xb()),2&t){var n=e.$implicit;v.Fb(2),v.Oc(v.oc(3,2,"TABLE.date")),v.Fb(2),v.Pc(" ",v.pc(5,4,n.created_at,"dd/MM/yyyy")," ")}}function H(t,e){1&t&&(v.Yb(0,"mat-header-cell"),v.Nc(1),v.nc(2,"translate"),v.Xb()),2&t&&(v.Fb(1),v.Oc(v.oc(2,1,"TABLE.actions")))}function J(t,e){if(1&t){var n=v.Zb();v.Yb(0,"a",43),v.ic("click",function(){v.Cc(n);var t=v.mc().$implicit;return v.mc(2).saveAction(t)}),v.Nc(1),v.nc(2,"translate"),v.Xb()}if(2&t){var a=v.mc().$implicit,c=v.mc().ngIf;v.sc("url",a.link+"?utm_source=FanLike&utm_medium="+c.hash_id),v.Fb(1),v.Oc(v.oc(2,2,"RESPONSE."+a.action_type))}}function Q(t,e){if(1&t){var n=v.Zb();v.Yb(0,"a",44),v.ic("click",function(){v.Cc(n);var t=v.mc().$implicit;return v.mc(2).saveAction(t)}),v.Nc(1),v.nc(2,"translate"),v.Xb()}if(2&t){var a=v.mc().$implicit,c=v.mc().ngIf;v.sc("href",a.link+"?utm_source=FanLike&utm_medium="+c.hash_id,v.Ec),v.Fb(1),v.Pc(" ",v.oc(2,2,"RESPONSE."+a.action_type)," ")}}function U(t,e){if(1&t&&(v.Yb(0,"mat-cell"),v.Yb(1,"span",36),v.Nc(2),v.nc(3,"translate"),v.Xb(),v.Lc(4,J,3,4,"a",41),v.Lc(5,Q,3,4,"ng-template",null,42,v.Mc),v.Xb()),2&t){var n=e.$implicit,a=v.Ac(6);v.Fb(2),v.Oc(v.oc(3,3,"TABLE.actions")),v.Fb(2),v.sc("ngIf","share_post"===n.action_type)("ngIfElse",a)}}function Z(t,e){1&t&&v.Tb(0,"mat-header-row")}function K(t,e){1&t&&v.Tb(0,"mat-row")}function G(t,e){if(1&t){var n=v.Zb();v.Yb(0,"div",12),v.Yb(1,"div",13),v.Yb(2,"div",14),v.Yb(3,"div",15),v.Yb(4,"h3",16),v.Nc(5),v.nc(6,"translate"),v.Xb(),v.Xb(),v.Xb(),v.Yb(7,"div",17),v.Yb(8,"div",18),v.Lc(9,Y,2,1,"div",19),v.Yb(10,"div",20),v.Yb(11,"mat-table",21),v.ic("matSortChange",function(){return v.Cc(n),v.mc().resetPaging()}),v.Wb(12,22),v.Lc(13,T,3,3,"mat-header-cell",23),v.Lc(14,N,6,5,"mat-cell",24),v.Vb(),v.Wb(15,25),v.Lc(16,R,3,3,"mat-header-cell",23),v.Lc(17,j,7,4,"mat-cell",24),v.Vb(),v.Wb(18,26),v.Lc(19,E,3,3,"mat-header-cell",23),v.Lc(20,A,5,5,"mat-cell",24),v.Vb(),v.Wb(21,27),v.Lc(22,I,3,3,"mat-header-cell",23),v.Lc(23,z,8,12,"mat-cell",24),v.Vb(),v.Wb(24,28),v.Lc(25,V,3,3,"mat-header-cell",29),v.Lc(26,W,6,7,"mat-cell",24),v.Vb(),v.Wb(27,30),v.Lc(28,H,3,3,"mat-header-cell",23),v.Lc(29,U,7,5,"mat-cell",24),v.Vb(),v.Lc(30,Z,1,0,"mat-header-row",31),v.Lc(31,K,1,0,"mat-row",32),v.Xb(),v.Xb(),v.Tb(32,"mat-paginator",33),v.Xb(),v.Xb(),v.Xb(),v.Xb()}if(2&t){var a=v.mc();v.Fb(5),v.Oc(v.oc(6,7,"TITLE.tasks_list")),v.Fb(4),v.sc("ngIf",a.isLoadingResults||a.isRateLimitReached),v.Fb(2),v.sc("dataSource",a.task$),v.Fb(19),v.sc("matHeaderRowDef",a.displayedColumns),v.Fb(1),v.sc("matRowDefColumns",a.displayedColumns),v.Fb(1),v.sc("length",a.resultsLength)("pageSize",a.pageSize)}}var q,tt,et,nt=[{path:"",component:(q=function(){function e(n,a,c){t(this,e),this.apiService=n,this.taskService=a,this.auth=c,this.type="interaction_post",this.currentPage=1,this.pageSize=m.a.table.rows,this.typeData=[{name:"interaction_post"},{name:"join_group"},{name:"like_page"}],this.displayedColumns=["name","receive","remain","status","created_at","actionsCol"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1,this.user$=this.auth.currentUserSubject.asObservable()}return n(e,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){this.getData()}},{key:"resetPaging",value:function(){this.matPaginator.pageIndex=0}},{key:"getData",value:function(){var t=this;this.task$=Object(l.a)(this.sort.sortChange,this.matPaginator.page).pipe(Object(g.a)({}),Object(f.a)(function(){return t.isLoadingResults=!0,t.taskService.fetch(t.type,t.sort.active,t.sort.direction,t.matPaginator.pageIndex,t.pageSize)}),Object(d.a)(function(e){return t.isLoadingResults=!1,t.isRateLimitReached=!1,t.resultsLength=e.meta.pagination.total,e.data}),Object(h.a)(function(){return t.isLoadingResults=!1,t.isRateLimitReached=!0,Object(b.a)([])}))}},{key:"onSelectType",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.type!==t&&(this.type=t,this.resetPaging(),this.getData());case 1:case"end":return e.stop()}},e,this)}))}},{key:"saveAction",value:function(t){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={item_type:t.type,item_id:t.hash_id,type:t.action_type},e.next=4,this.apiService.post("/histories",n).toPromise();case 4:a=e.sent,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}))}}]),e}(),q.\u0275fac=function(t){return new(t||q)(v.Sb(O.a),v.Sb(w),v.Sb(P.a))},q.\u0275cmp=v.Mb({type:q,selectors:[["app-task"]],viewQuery:function(t,e){var n;1&t&&(v.Sc(u.a,!0),v.Sc(p.a,!0)),2&t&&(v.zc(n=v.jc())&&(e.matPaginator=n.first),v.zc(n=v.jc())&&(e.sort=n.first))},decls:13,vars:7,consts:[[1,"d-xl-flex","flex-row"],[1,"flex-row-auto","w-xxl-275px","mb-5"],[1,"card","card-custom","card-stretch"],[1,"card-body","px-5"],[1,"navi-section","mb-2","font-size-h6","font-weight-bold","pb-0","d-flex"],[1,"flaticon2-console","ml-auto"],[1,"navi","navi-hover","navi-active","navi-link-rounded","navi-bold","navi-icon-center","navi-light-icon"],["class","navi-item my-2",4,"ngFor","ngForOf"],["class","flex-row-fluid ml-xl-8",4,"ngIf"],[1,"navi-item","my-2"],["href","#",1,"navi-link",3,"ngClass","click"],[1,"navi-text","font-weight-bolder","font-size-lg"],[1,"flex-row-fluid","ml-xl-8"],[1,"card","card-custom","gutter-b","mb-0"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body","p-0"],[1,"custom-table-wrap","custom-table-wrap-task"],["class","custom-table-loading-shade",4,"ngIf"],[1,"custom-table-container"],["matSort","","matSortActive","created_at","matSortDisableClear","","matSortDirection","desc",1,"custom-table",3,"dataSource","matSortChange"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","receive"],["matColumnDef","remain"],["matColumnDef","status"],["matColumnDef","created_at"],["mat-sort-header","","disableClear","",4,"matHeaderCellDef"],["matColumnDef","actionsCol"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"custom-table-loading-shade"],[4,"ngIf"],[1,"mb-mat-header-cell"],["target","_blank",3,"href"],["width","18","src","./assets/media/svg/customs/coin.svg","alt",""],[1,"label","label-lg","label-inline"],["mat-sort-header","","disableClear",""],["shareButton","facebook","class","btn btn-primary",3,"url","click",4,"ngIf","ngIfElse"],["templateButtonAction",""],["shareButton","facebook",1,"btn","btn-primary",3,"url","click"],["target","_blank",1,"btn","btn-primary",3,"href","click"]],template:function(t,e){1&t&&(v.Yb(0,"div",0),v.Yb(1,"div",1),v.Yb(2,"div",2),v.Yb(3,"div",3),v.Yb(4,"div",4),v.Yb(5,"span"),v.Nc(6),v.nc(7,"translate"),v.Xb(),v.Tb(8,"i",5),v.Xb(),v.Yb(9,"div",6),v.Lc(10,X,5,6,"div",7),v.Xb(),v.Xb(),v.Xb(),v.Xb(),v.Lc(11,G,33,9,"div",8),v.nc(12,"async"),v.Xb()),2&t&&(v.Fb(6),v.Oc(v.oc(7,3,"TITLE.filter")),v.Fb(4),v.sc("ngForOf",e.typeData),v.Fb(1),v.sc("ngIf",v.oc(12,5,e.user$)))},directives:[o.m,o.n,y.a,o.l,k.j,p.a,k.c,k.e,k.b,k.g,k.i,u.a,M.c,k.d,k.a,p.b,L.a,k.f,k.h],pipes:[S.c,o.b,o.e],styles:['.custom-table-wrap[_ngcontent-%COMP%]{position:relative}.custom-table-wrap[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]:first-of-type, .custom-table-wrap[_ngcontent-%COMP%]   mat-footer-cell[_ngcontent-%COMP%]:first-of-type, .custom-table-wrap[_ngcontent-%COMP%]   mat-header-cell[_ngcontent-%COMP%]:first-of-type{padding-left:.75rem}.custom-table-wrap[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#b5b5c3!important;font-size:.9rem;text-transform:uppercase;letter-spacing:.1rem}.custom-table-wrap[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]{font-family:Open Sans,Helvetica,"sans-serif";font-size:13px}.custom-table-wrap[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .custom-table-wrap[_ngcontent-%COMP%]   .custom-table[_ngcontent-%COMP%]   .mat-footer-cell[_ngcontent-%COMP%]{font-size:13px}.custom-table-wrap[_ngcontent-%COMP%]   .custom-table-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.custom-table-wrap[_ngcontent-%COMP%]   .mb-mat-header-cell[_ngcontent-%COMP%]{display:none}.custom-table-wrap[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:.75rem}@media (max-width:1199.98px){.custom-table-wrap[_ngcontent-%COMP%]   .mat-header-row[_ngcontent-%COMP%]{display:none}.custom-table-wrap[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{border:0;vertical-align:middle;background-color:transparent}.custom-table-wrap[_ngcontent-%COMP%]   mat-footer-row[_ngcontent-%COMP%]:after, .custom-table-wrap[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]:after, .custom-table-wrap[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%]:after{display:none}.custom-table-wrap[_ngcontent-%COMP%]   .mb-mat-header-cell[_ngcontent-%COMP%]{display:block;margin-right:auto;width:120px}.custom-table-wrap[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:10px;border-bottom:5px solid #ddd}.custom-table-wrap[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{display:flex;width:100%}.custom-table-wrap[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #ddd}}@media (min-width:1200px){.custom-table-wrap-task[_ngcontent-%COMP%]   .mat-column-receive[_ngcontent-%COMP%], .custom-table-wrap-task[_ngcontent-%COMP%]   .mat-column-remain[_ngcontent-%COMP%]{flex:0 0 100px;justify-content:center}.custom-table-wrap-task[_ngcontent-%COMP%]   .mat-column-created_at[_ngcontent-%COMP%], .custom-table-wrap-task[_ngcontent-%COMP%]   .mat-column-status[_ngcontent-%COMP%]{flex:0 0 120px;justify-content:center}.custom-table-wrap-task[_ngcontent-%COMP%]   .mat-column-actionsCol[_ngcontent-%COMP%]{flex:0 0 160px;justify-content:center}}']}),q)}],at=((tt=function e(){t(this,e)}).\u0275mod=v.Qb({type:tt}),tt.\u0275inj=v.Pb({factory:function(t){return new(t||tt)},imports:[[r.k.forChild(nt)],r.k]}),tt),ct=c("Br0f"),it=c("3Pt+"),ot=c("e8Ap"),rt=c("PCNd"),st=c("tM0M"),lt=((et=function e(){t(this,e)}).\u0275mod=v.Qb({type:et}),et.\u0275inj=v.Pb({factory:function(t){return new(t||et)},imports:[[o.c,at,ct.a,it.t,ot.b,L.b,rt.a,st.a,k.l,M.b,u.b,p.c]]}),et)}}])}();